<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="lib/mulang.js"></script>
    <script type="text/javascript" src="lang/lang.js"></script>
    <style>
        .lang_switch{
            cursor: pointer;
            color: blue;
        }
    </style>
</head>
<body>
<div class="language_switch"></div>
<ul class="nav">
    <li><a href="#" mulang="amount['<b>10</b>','USD']">en text</a></li>
    <li><a href="#" mulang="intro">en annan text</a></li>
    <li><a href="#" mulang="card_holder">mer text</a></li>
    <li>
        <input mulang="card_number:value" />
    </li>
    <li mulang="what_is_trustly">
        <a href="https://trustly.com/se/whatistrustly" target="_blank">Vad Ã¤r Trustly?</a>
    </li>
    <li>
        <input mulang="card_type_placeholder:placeholder;card_type:value" />
    </li>
</ul>

<script>
$( document ).ready(function() {
    var options = {
        lang: 'ru', //what language to use
        fallback: 'en', //if lang is not found in file, fall back to this
        ignore_locale: true //when grabbing the language from the browser (en-US) ignore the locale (US) 
    };
    var lang_set = $('[mulang]').mulang(options);

    //add select with language options
    if(window.__mulang && __mulang.languages) {
        $('.language_switch').append('<select></select>');
        for (let lang of __mulang.languages) {
            $('.language_switch select').append('<option value="'+lang.code+'">'+lang.name+'</option>');
        }
    }
    $('.language_switch select').val(lang_set);

    //changing language
    $('.language_switch select').on('change', function() {
        options.lang = this.value;
        $('[mulang]').mulang(options);
    });
})
</script>
</body>
</html>
